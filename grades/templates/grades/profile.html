{% extends 'base.html' %}
{% load static %}
{% block content %}
    <div class="row">
        <div class="col-md-4">
            <h4>Профиль</h4>
            <hr>
            <p><strong>Имя:</strong> {{ student.name }}</p>
            <p><strong>Фамилия:</strong> {{ student.surname }}</p>
            <p><strong>Институт:</strong> {{ student.institution }}</p>
            <p><strong>Группа:</strong> {{ student.group }}</p>
            <hr>
<!--            <h5>Дисциплины</h5>-->
<!--            <ul>-->
<!--                {% for sg in subject_grades %}-->
<!--                <li>{{ sg.subject.name }} - {{ sg.total_grade }}/100</li>-->
<!--                {% endfor %}-->
<!--            </ul>-->
<!--            <hr>-->
            <h5>Советы</h5>
            <p>какой-то текст</p>
            <img src="{% static 'grades/assets/img/cat-good.png' %}" class="img-fluid" alt="...">

        </div>
        <div class="col-md-8">
            <h4>Оценки</h4>
            <hr>
            <table class="table">
                <thead>
                    <tr>
                        <th>Предмет</th>
                        <th>Сумма баллов</th>
                        <th>Средний балл</th>
                        <th>Необходимо баллов до цели</th>
                    </tr>
                </thead>
                <tbody>
                    {% for sg in subject_grades %}
                    <tr>
                        <td>{{ sg.subject.name }}</td>
                        <td>{{ sg.total_grade }}</td>
                        <td>{{ sg.avg_grade|safe }}</td>
                        <td>{{ sg.remaining_points }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
            <div>
  <canvas id="myChart"></canvas>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
  const ctx = document.getElementById('myChart');

  new Chart(ctx, {
    type: 'line',
    data: {
      labels: [
            '1.09', '2.09', '6.09', '15.09', '10.10'
        ],
        datasets: [{
            label: 'матан',
            data: [
                10, 20, 0, 60, 70
            ],
            backgroundColor: 'rgba(255, 99, 132, 0.2)',
            borderColor: 'rgba(255, 0, 132, 1)',
            borderWidth: 1
        },
        {
            label: 'алгем',
            data: [
                1, 2, 30, 6, 7
            ],
            backgroundColor: 'rgba(255, 99, 132, 0.2)',
            borderColor: 'rgba(255, 99, 0, 1)',
            borderWidth: 1
        }]
    },
    options: {
      scales: {
        y: {
          beginAtZero: true
        }
      }
    }
  });
</script>
        </div>
</div>
{% endblock %}
